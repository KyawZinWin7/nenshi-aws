ðŸ”¹ Entities & Relationships

departments

id (PK)

name

department_code

employees

id (PK)

name

employee_code

password

department_id â†’ departments.id (nullable, nullOnDelete)

role

plants

id (PK)

name

machine_types

id (PK)

name

department_id â†’ departments.id (restrictOnDelete)

tasks

id (PK)

name

machine_type_id â†’ machine_types.id (restrictOnDelete)

department_id â†’ departments.id (restrictOnDelete)

machine_type_plants

id (PK)

machine_type_id â†’ machine_types.id (restrictOnDelete)

plant_id â†’ plants.id (restrictOnDelete)

start_number

end_number

machine_numbers

id (PK)

machine_type_plant_id â†’ machine_type_plants.id (cascadeOnDelete)

number

main_operations

id (PK)

plant_id â†’ plants.id (restrictOnDelete)

machine_type_id â†’ machine_types.id (restrictOnDelete)

machine_number_id â†’ machine_numbers.id (restrictOnDelete)

task_id â†’ tasks.id (restrictOnDelete)

employee_id â†’ employees.id (restrictOnDelete)

department_id â†’ departments.id (restrictOnDelete)

completed_by â†’ employees.id (set null)

uncompleted_by â†’ employees.id (set null)

start_time / end_time / total_time / small_task / description / status

main_operation_members

id (PK)

main_operation_id â†’ main_operations.id (cascadeOnDelete)

employee_id â†’ employees.id (cascadeOnDelete)

ðŸ”¹ ERD Relationship Overview
departments â”€â”€< employees
departments â”€â”€< machine_types
departments â”€â”€< tasks
plants â”€â”€< machine_type_plants >â”€â”€ machine_types
machine_type_plants â”€â”€< machine_numbers
machine_types â”€â”€< tasks
machine_types â”€â”€< machine_type_plants
tasks â”€â”€< main_operations
plants â”€â”€< main_operations
machine_types â”€â”€< main_operations
machine_numbers â”€â”€< main_operations
employees â”€â”€< main_operations (employee_id)
employees â”€â”€< main_operations (completed_by, uncompleted_by)
main_operations â”€â”€< main_operation_members >â”€â”€ employees